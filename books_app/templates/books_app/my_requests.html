{% extends "books_app/base.html" %}

{% block title %}My Book Requests{% endblock %}

{% block content %}
  <div class="page-header">
    <h1>My Book Requests</h1>
    <p>Here is the history of all the books you have requested.</p>
  </div>

  {% if requests_list %}
    <div class="requests-list">
      {% for request in requests_list %}
        <div class="request-item">
          <h3>{{ request.book_title }}</h3>
          <p>by {{ request.book_author|default:"N/A" }}</p>
          <p><strong>Status:</strong> {{ request.colored_status }}</p>
          <p><strong>Requested on:</strong> {{ request.request_date|date:"F j, Y" }}</p>
        </div>
      {% endfor %}
    </div>
  {% else %}
    <p>You have not made any book requests yet. <a href="{% url 'books_app:request_book' %}">Request one now!</a></p>
  {% endif %}
{% endblock %}
